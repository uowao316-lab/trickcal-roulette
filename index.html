<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ãƒˆãƒªãƒƒã‚«ãƒ« ä»Šæ—¥ã®å¤œã®ãŠä¾›ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆ</title>

<style>
body {
  margin: 0;
  background: #0e0e14;
  color: #fff;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
}

h1 {
  text-align: center;
  margin: 20px 0;
}

#frame {
  width: 100%;
  overflow: hidden;
  position: relative;
}

/* é»„è‰²ãƒãƒ¼ */
#frame::after {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: 50%;
  width: 4px;
  background: #ffd966;
  transform: translateX(-50%);
  pointer-events: none;
}

#reel {
  display: flex;
  gap: 12px;
  padding: 20px;
  will-change: transform;
}

.card {
  min-width: 140px;
  background: #26263a;
  border-radius: 14px;
  padding: 10px;
  text-align: center;
  flex-shrink: 0;
}

.card img {
  width: 100%;
  border-radius: 10px;
}

.card p {
  margin: 6px 0 0;
  font-size: 14px;
}

button {
  display: block;
  margin: 20px auto;
  padding: 14px 30px;
  font-size: 18px;
  border: none;
  border-radius: 999px;
  background: #ffd966;
  color: #000;
  font-weight: bold;
}

#result {
  text-align: center;
  font-size: 20px;
  margin-bottom: 30px;
}
</style>
</head>

<body>

<h1>ğŸ° ä»Šæ—¥ã®å¤œã®ãŠä¾›ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆ</h1>

<div id="frame">
  <div id="reel"></div>
</div>

<button id="spinBtn">å›ã™</button>
<div id="result"></div>

<script>
// =======================
// ã‚­ãƒ£ãƒ©ãƒ‡ãƒ¼ã‚¿ï¼ˆç¢ºå®šé †ï¼‰
// =======================
const chars = [
  {name:"ã‚³ãƒŸãƒ¼", img:"images/i_c_1.png"},
  {name:"ã‚¢ãƒ¬ãƒƒãƒˆ", img:"images/i_c_2.png"},
  {name:"ã‚¢ãƒ¡ãƒªã‚¢", img:"images/i_c_3.png"},
  {name:"ã‚¢ãƒ¤", img:"images/i_c_4.png"},
  {name:"ãƒ™ãƒªãƒ¼ã‚¿", img:"images/i_c_5.png"},
  {name:"ãƒ™ãƒ‹ãƒ¼", img:"images/i_c_6.png"},
  {name:"ãƒ“ãƒƒã‚°ã‚¦ãƒƒãƒ‰", img:"images/i_c_7.png"},
  {name:"ã‚«ãƒ³ãƒŠ", img:"images/i_c_8.png"},
  {name:"ã‚«ãƒ¬ãƒ³", img:"images/i_c_9.png"},
  {name:"ã‚¯ãƒ­ã‚¨", img:"images/i_c_10.png"},
  {name:"ãƒãƒ§ãƒƒãƒ”ãƒ¼", img:"images/i_c_11.png"},
  {name:"ã‚­ãƒ¥ã‚¦ã‚¤", img:"images/i_c_12.png"},
  {name:"ãƒ‡ã‚£ã‚¢ãƒŠ", img:"images/i_c_13.png"},
  {name:"ã‚¨ãƒ«ãƒ•ã‚£ãƒ³", img:"images/i_c_14.png"},
  {name:"ã‚¨ã‚¹ãƒ”ãƒ¼", img:"images/i_c_15.png"},
  {name:"ãƒ•ã‚§ã‚¹ã‚¿", img:"images/i_c_16.png"},
  {name:"ãƒ•ãƒªãƒƒã‚¯ãƒ«", img:"images/i_c_17.png"},
  {name:"ã‚¬ãƒ´ã‚£ã‚¢", img:"images/i_c_18.png"},
  {name:"ãƒ˜ã‚¤ãƒªãƒ¼", img:"images/i_c_19.png"},
  {name:"ã‚¤ãƒ•ãƒªãƒ¼ãƒˆ", img:"images/i_c_20.png"},
  {name:"ã‚¸ã‚§ã‚¤ãƒ‰", img:"images/i_c_21.png"},
  {name:"ã‚¸ãƒ¥ãƒ“ãƒ¼", img:"images/i_c_22.png"},
  {name:"ã‚®ãƒ‡ã‚ªãƒ³", img:"images/i_c_23.png"},
  {name:"ãƒ¬ã‚¤ã‚¸ãƒ¼", img:"images/i_c_24.png"},
  {name:"ãƒ¬ãƒ´ã‚£", img:"images/i_c_25.png"},
  {name:"ãƒã‚¨ã‚¹ãƒˆãƒ­MK2", img:"images/i_c_26.png"},
  {name:"ãƒãƒ¼ã‚´", img:"images/i_c_27.png"},
  {name:"ãƒ¡ã‚¾ãƒ³", img:"images/i_c_28.png"},
  {name:"ãƒãƒªãƒ¼", img:"images/i_c_29.png"},
  {name:"ãƒãƒ¨", img:"images/i_c_30.png"},
  {name:"ãƒ¡ãƒ­ãƒŠ", img:"images/i_c_31.png"},
  {name:"ãƒ¢ãƒ¢", img:"images/i_c_32.png"},
  {name:"ãƒŸãƒ³ã‚¹", img:"images/i_c_33.png"},
  {name:"ãƒ‘ãƒˆãƒ©", img:"images/i_c_34.png"},
  {name:"ãƒ”ã‚³ãƒ©", img:"images/i_c_35.png"},
  {name:"ãƒãƒ¼ã‚·ãƒ£ãƒ¼", img:"images/i_c_36.png"},
  {name:"ãƒªãƒ ", img:"images/i_c_37.png"},
  {name:"ãƒ«ãƒ¼ãƒ‰", img:"images/i_c_38.png"},
  {name:"ãƒ«ãƒ", img:"images/i_c_39.png"},
  {name:"ã‚µãƒªãƒ¼", img:"images/i_c_40.png"},
  {name:"ã‚·ã‚§ã‚¤ãƒ‡ã‚£", img:"images/i_c_41.png"},
  {name:"ã‚·ãƒ«ãƒ•ã‚£ãƒ¼ãƒ«", img:"images/i_c_42.png"},
  {name:"ã‚·ã‚¹ãƒˆ", img:"images/i_c_43.png"},
  {name:"ã‚¹ãƒ”ãƒƒã‚­ãƒ¼", img:"images/i_c_44.png"},
  {name:"ã‚·ãƒ¼ãƒ©", img:"images/i_c_45.png"},
  {name:"ã‚¿ã‚¤ãƒ€ãƒ¼", img:"images/i_c_46.png"},
  {name:"ã‚¦ã‚¤", img:"images/i_c_47.png"},
  {name:"ãƒ™ãƒ«ãƒ™ãƒƒãƒˆ", img:"images/i_c_48.png"},
  {name:"ãƒ™ãƒ«", img:"images/i_c_49.png"},
  {name:"ã‚·ã‚ªãƒ³", img:"images/i_c_50.png"},
  {name:"ãƒ¦ãƒŸãƒŸ", img:"images/i_c_51.png"},
  {name:"ãƒ´ã‚£ãƒ´ã‚£", img:"images/i_c_52.png"},
  {name:"ãƒ¨ãƒŸ", img:"images/i_c_53.png"},
  {name:"ãƒã‚¿ãƒ¼", img:"images/i_c_54.png"},
  {name:"ã‚¢ãƒªã‚¹", img:"images/i_c_55.png"},
  {name:"ãƒ’ãƒ«ãƒ‡", img:"images/i_c_56.png"},
  {name:"ã‚¨ãƒ¬ãƒŠ", img:"images/i_c_57.png"},
  {name:"ãƒªãƒƒãƒ„", img:"images/i_c_58.png"}
];

// =======================
// åˆæœŸæç”»ï¼ˆ3å‘¨ï¼‰
// =======================
const reel = document.getElementById("reel");
const result = document.getElementById("result");
const btn = document.getElementById("spinBtn");

const loop = [...chars, ...chars, ...chars];
loop.forEach(c => {
  const card = document.createElement("div");
  card.className = "card";
  card.innerHTML = `<img src="${c.img}" loading="lazy"><p>${c.name}</p>`;
  reel.appendChild(card);
});

let currentX = 0;
let spinning = false;

// =======================
// ãƒ«ãƒ¼ãƒ¬ãƒƒãƒˆå‡¦ç†ï¼ˆå®Œå…¨ä¸€è‡´ï¼‰
// =======================
btn.onclick = () => {
  if (spinning) return;
  spinning = true;
  result.textContent = "";

  const cards = document.querySelectorAll(".card");

  // å½“é¸ã‚­ãƒ£ãƒ©ã‚’å…ˆã«æ±ºå®š
  const winIndex = Math.floor(Math.random() * chars.length);
  const targetCard = cards[chars.length + winIndex];

  // å®Ÿæ¸¬ã§ä¸­å¤®ã«åˆã‚ã›ã‚‹
  const frameRect = document.getElementById("frame").getBoundingClientRect();
  const barX = frameRect.left + frameRect.width / 2;

  const cardRect = targetCard.getBoundingClientRect();
  const cardCenter = cardRect.left + cardRect.width / 2;

  const move = currentX + (cardCenter - barX);

  reel.style.transition = "transform 3s cubic-bezier(.15,.7,.15,1)";
  reel.style.transform = `translateX(-${move}px)`;
  currentX = move;

  setTimeout(() => {
    result.textContent = `ğŸ‰ é¸ã°ã‚ŒãŸã®ã¯ã€Œ${chars[winIndex].name}ã€ï¼`;
    spinning = false;
  }, 3100);
};
</script>

</body>
</html>
